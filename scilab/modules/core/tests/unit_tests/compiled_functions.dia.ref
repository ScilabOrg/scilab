// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2008 - INRIA
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
// compiled functions
deff('y=foo(a)','y=a+1000')
a = 500;
y = foo(a);
if y<>a+1000 then bugmes();quit;end
a=y;
// script definition
deff('test()','y=foo(a)')
exec(test)
if y<>a+1000 then bugmes();quit;end
a=y;
// macro definition
deff('y=toto()','y=foo(a)')
y=toto();
if y<>a+1000 then bugmes();quit;end
a=y;
//in a loop
for k=1:3,
  y=toto();
  if y<>a+1000 then bugmes();quit;end
  a=y;
end
