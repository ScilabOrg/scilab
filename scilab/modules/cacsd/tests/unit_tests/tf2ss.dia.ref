// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) ????-2008 - INRIA - Serge Steer
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
s=%s;
n=1;d=1+3*s;
h=syslin('c',n./d);
sl=tf2ss(h);
if sl.A<>-1/3 then bugmes();quit;end
if sl.B*sl.C<>1/3 then bugmes();quit;end
if sl.D<>0 then bugmes();quit;end
if sl.X0<>0 then bugmes();quit;end
if sl.dt<>'c' then bugmes();quit;end
h=syslin('d',n./d);
sl=tf2ss(h);
if sl.A<>-1/3 then bugmes();quit;end
if sl.B*sl.C<>1/3 then bugmes();quit;end
if sl.D<>0 then bugmes();quit;end
if sl.X0<>0 then bugmes();quit;end
if sl.dt<>'d' then bugmes();quit;end
h1=[h h];
sl1=tf2ss(h1);
if abs(sl1.A+1/3)>1d-15 then bugmes();quit;end
if norm(sl1.B*sl1.C-1/3,1)>1d-15  then bugmes();quit;end
if or(sl1.D<>[0 0]) then bugmes();quit;end
if sl1.X0<>0 then bugmes();quit;end
if sl1.dt<>'d' then bugmes();quit;end
n=[1+s   2+3*s+4*s^2        5; 0        1-s             s];
d=[1+3*s   5-s^3           s+1;1+s     1+s+s^2      3*s-1];
h=syslin('c',n./d);
sl=tf2ss(h);
cden=lcm(d);cden=cden/coeff(cden,degree(cden))
 cden  =
 
                                       2            3            4      
    0.5555556 + 1.1111111s - 3.8888889s - 9.5555556s - 10.222222s       
                        5            6    7   8                         
            - 4.2222222s + 1.8888889s + 2s + s                          
if norm(coeff(cden-poly(sl.A,'s')),1)>1d-10 then bugmes();quit;end
e=h-ss2tf(sl);
if norm(coeff(e.num))>>1d-10 then bugmes();quit;end
n=(1+s);d=(1+3*s)*(0.9999+s);
h=syslin('c',n./d);
sl=tf2ss(h,0.01);
if size(sl.A,'*')<>1 then bugmes();quit;end
