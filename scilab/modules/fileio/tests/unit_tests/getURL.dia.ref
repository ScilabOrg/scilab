// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2011 - Sylvestre LEDRU
// Copyright (C) 2013 - Scilab Enterprises
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
function checkFile(filePath, expectedFilePath, minimalFileSize)
    assert_checkequal(filePath, expectedFilePath)
    info = fileinfo(filePath);
    assert_checktrue(info(1) > minimalFileSize);
    deletefile(filePath);
endfunction
function checkFileAndContent(filePath, expectedFilePath, minimalFileSize, keywordToFind)
    fd = mopen(filePath, "r");
    assert_checktrue(grep(mgetl(fd), keywordToFind) <> []);
    mclose(fd);
    checkFile(filePath, expectedFilePath, minimalFileSize);
endfunction
function checkContent(filePath, content, keyword, keywordToFind)
    assert_checktrue(length(content) > 10);
    assert_checktrue(grep(content, keywordToFind) <> []);
    deletefile(filePath);
endfunction
curdir = pwd();
destdir = fullfile(TMPDIR, "getURL");
mkdir(destdir);
cd(destdir);
// Check downloaded file
filePath = getURL("http://www.scilab.org");
Transfer did not complete successfully: Couldn't resolve proxy '123aa'
filePath = getURL("http://www.scilab.org");
at line    48 of exec file called by :
