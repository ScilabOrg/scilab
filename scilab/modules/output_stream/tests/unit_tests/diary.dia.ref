// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2009 - DIGITEO - Allan CORNET
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
r = [];
for i = 1:100
  r = [r, diary(TMPDIR + '/test'+string(i)+'.diary','new');];
  if ( fileinfo(TMPDIR + '/test'+string(i)+'.diary') == []) then bugmes();quit;end
end
if (size(r,'*') <> 100) then bugmes();quit;end
for i = 1:100
	diary(i,'close');
	mdelete(TMPDIR + '/test'+string(i)+'.diary');
	if ( fileinfo(TMPDIR + '/test'+string(i)+'.diary') <> []) then bugmes();quit;end
end
