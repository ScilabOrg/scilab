<?xml version="1.0" encoding="ISO-8859-1"?>
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:lang="en" xml:id="usecanvas">
  <info>
    <pubdate>$LastChangedDate: 2007-12-07 11:59:53 +0100 (ven, 07 d√©c 2007) $</pubdate>
  </info>
  <refnamediv>
    <refname>usecanvas</refname>
    <refpurpose>Get/Set the main component used for Scilab graphics.</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <title>Calling Sequence</title>
    <synopsis>
       [canvasused] = usecanvas();
       [canvasused] = usecanvas(usecanvasfordisplay);
    </synopsis>
  </refsynopsisdiv>
  <refsection>
    <title>Parameters</title>
    <variablelist>
      <varlistentry>
        <term>canvasused</term>
        <listitem>
          <para>Boolean:</para>
          <itemizedlist>
            <listitem>
              <para><literal>%T</literal> if a "GLCanvas" is used for graphics display (Mixing uicontrols and graphics <emphasis role="bold">not available</emphasis>).</para>
            </listitem>
            <listitem>
              <para><literal>%F</literal> if a "GLJPanel" is used for graphics display (Mixing uicontrols and graphics available).</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>usecanvasfordisplay</term>
        <listitem>
          <para>Boolean:</para>
          <itemizedlist>
            <listitem>
              <para><literal>%T</literal> to use a "GLCanvas" for graphics display (Mixing uicontrols and graphics <emphasis role="bold">not available</emphasis>).</para>
            </listitem>
            <listitem>
              <para><literal>%F</literal> to use a "GLJPanel" for graphics display (Mixing uicontrols and graphics available).</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>
  <refsection>
    <title>Description</title>
    <para>Scilab uses a "GLJPanel" (a Swing OpenGL component) to display graphics (plot3d, plot, ...). Unfortunately, this component uses some high level OpenGL primitives which are correctly supported on some platform (depending on the operating system, video cards, drivers ...)</para>
    <para>"GLCanvas" (AWT + OpenGL) is an alternative component provided by the Java Framework. Scilab can use it to render graphics. <emphasis role="bold">However, using this component disables some capabilities such as mixing plots and uicontrols (see demo GUI/UIcontrol2). That's why it's not the default behavior.</emphasis></para>


    <informaltable border="2">
    <para>In some particular cases, the use of the "GLCanvas" component is forced when Scilab starts (a warning message is displayed when a graphics function is used for the first time), here is a list of these cases:</para>
      <tr>
        <td align="center"><emphasis role="bold">Operating System</emphasis></td>
        <td align="center"><emphasis role="bold">Video Card</emphasis></td>
        <td align="center"><emphasis role="bold">Details</emphasis></td>
      </tr>

      <tr>
        <td align="center">64-bits Windows</td>
        <td align="center">All</td>
        <td align="center">Only when using a remote session.</td>
      </tr>

      <tr>
        <td rowspan="3" valign="middle" align="center">Linux</td>
        <td align="center">NVIDIA Card</td>
        <td align="center">With free drivers.</td>
      </tr>
      <tr>
        <td align="center">ATI Card</td>
        <td align="center">With free drivers or ATI-drivers with version &lt; 8.52.3 (Installer version 8.8 / OpenGL version 2.1.7873).</td>
      </tr>
      <tr>
        <td align="center">INTEL Card</td>
        <td align="center">With Direct Rendering activated.</td>
      </tr>
    </informaltable>

    <para>You can also dynamically activate this component through Scilab using <literal>usecanvas</literal>: </para>
    <itemizedlist>
      <listitem>
        <para><literal>usecanvas(%T)</literal> will force the use of "GLCanvas" for plot rendering.</para>
      </listitem>
      <listitem>
        <para><literal>usecanvas(%F)</literal> will use "GLJPanel" for rendering. If your configuration is known as a one having problems with "GLJPanel" (See table above), a warning message will be displayed.</para>
      </listitem>
    </itemizedlist>

    <para>If you believe your configuration is able to use the "GLJPanel" and Scilab automatically forces the use of "GLCanvas", you can test your configuration by swithing to "GLJPanel" (<literal>usecanvas(%F)</literal>) and trying to plot something (<literal>plot3d()</literal> for example). If Scilab graphics work, please inform us about it by sending an email to <literal>support@scilab.org</literal> and giving us your Operating System/Video Card/Video Card driver version, this will help use to improve future versions of Scilab.</para>
  </refsection>
  <refsection>
    <title>Examples</title>
    <programlisting role="example"><![CDATA[

// Example using GLJPanel (Mixing uicontrols and graphics is available)
usecanvas(%F);
plot2d();
uicontrol("String", "Close the window", "Position", [10 10 100, 25], "Callback", "delete(gcf())");
messagebox("You can see the button on the figure.", "Usecanvas example", "info");

// Example using GLCanvas (Mixing uicontrols and graphics is not available, uicontrols are not visible)
usecanvas(%T);
plot2d();
uicontrol("String", "Close the window", "Position", [10 10 100, 25], "Callback", "delete(gcf())");
messagebox("You can''t see any button on the figure.", "Usecanvas example", "info");

  ]]></programlisting>
  </refsection>
  <refsection>
    <title>Authors</title>
    <para>Vincent COUVERT</para>
  </refsection>
</refentry>
