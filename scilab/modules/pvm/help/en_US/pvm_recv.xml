<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
 * Copyright (C) 1997-2008 - INRIA
 * 
 * This file must be used under the terms of the CeCILL.
 * This source file is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at    
 * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
 *
 -->
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:lang="en" xml:id="pvm_recv">
  <info>
    <pubdate>$LastChangedDate$</pubdate>
  </info>
  <refnamediv>
    <refname>pvm_recv</refname>
    <refpurpose> receive a message.  </refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <title>Calling Sequence</title>
    <synopsis>[buff, info, msgtid, tag] = pvm_recv(tid, msgtag)</synopsis>
  </refsynopsisdiv>
  <refsection>
    <title>Arguments</title>
    <variablelist>
      <varlistentry>
        <term>tid</term>
        <listitem>
          <para>integer, task identifier of sending process supplied by the user.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>msgtag : integer, message tag supplied by the user.  msgtag should be</term>
        <listitem>
          <para>&gt;= 0.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>buff</term>
        <listitem>
          <para>scilab variable, where the received message will be stored.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>info</term>
        <listitem>
          <para>integer, status code returned by the routine. Values less than zero indicate an error.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>msgtid : integer, returning  the source of the  message.  Useful when the</term>
        <listitem>
          <para>message was received with a wildcard tid.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>tag</term>
        <listitem>
          <para>integer, returning the  message label.  Useful when the message was received with a wildcard msgtag.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>
  <refsection>
    <title>Description</title>
    <para><literal>pvm_recv</literal> 
    blocks the process until a message with label
    <literal>msgtag</literal> (<literal>-1</literal> can be used to match 
    all message tags)
    has arrived from <literal>tid</literal> (<literal>-1</literal> can be used to
    match all tids). 
    <literal>pvm_recv</literal> returns the message in <literal>buff</literal>.</para>
    <para>
    If <literal>tid=-1</literal> and <literal>msgtag</literal> is defined by the user, 
    then <literal>pvm_recv</literal> will accept a
    message from any process which has a matching
    <literal>msgtag</literal>.</para>
    <para>
    If <literal>msgtag = -1</literal>
    and <literal>tid</literal> is defined by the user, then 
    <literal>pvm_recv</literal> will accept any message
    that is sent from process <literal>tid</literal> .
    If <literal>tid=-1</literal> and <literal>msgtag = -1</literal> then
    <literal>pvm_recv</literal> will accept any message from any process.</para>
    <para>
    When wildcard  are used,   the  application is   able to  receive  any
    incoming message. If  the action taken depends on  the source tid  and
    the msgtag associated with the message that comes in first, the
    information given by msgtid and tag can be very usefull.</para>
    <para>
    The PVM model guarantees the following about message order.  If task 1
    sends message A to task 2, then task 1 sends message B to task 2,
    message A will arrive at task 2 before message B.  Moreover, if both
    messages arrive before task 2 does a receive, then a wildcard receive
    will always return message A.</para>
    <para><literal>info</literal> will be the status code returned by the routine. 
    If some error occurs then it will be &lt; 0.</para>
    <para>
    pvm_recv is blocking which means the routine waits until a message
    matching the user specified tid and msgtag values arrives at the local
    pvmd. If the message has already arrived then pvm_recv returns
    immediately with the message.</para>
    <para>
    Once pvm_recv returns, the data in the message can be unpacked
    into the user's memory using the unpack routines.</para>
  </refsection>
  <refsection>
    <title>See Also</title>
    <simplelist type="inline">
      <member>
        <link linkend="pvm_send">pvm_send</link>
      </member>
      <member>
        <link linkend="pvm_bcast">pvm_bcast</link>
      </member>
    </simplelist>
  </refsection>
</refentry>
