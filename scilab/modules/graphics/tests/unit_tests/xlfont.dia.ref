// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2008 - INRIA - Allan CORNET
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
// <-- TEST WITH GRAPHIC -->
initialfonts = xlfont();
if size(initialfonts,'*') <> 11 then bugmes();quit;end
availablefonts = xlfont('AVAILABLE_FONTS');
if size(availablefonts,'*') < 11 then bugmes();quit;end
for i=1:11:1
  xlfont(availablefonts(i),i);
end
for i=1:11:1
  xlfont(availablefonts(i),i,%t,%f);
end
for i=1:11:1
  xlfont(availablefonts(i),i,%t);
end
xlfont('reset');
afterresetfonts = xlfont();
if ~and(initialfonts == afterresetfonts) then bugmes();quit;end
cd(TMPDIR);
if MSDOS then
	unix_w(jre_path()+"\bin\java.exe -cp "+SCI+"\modules\localization\tests\unit_tests CreateDir");
else
	unix_w(jre_path()+"/bin/java -classpath "+SCI+"/modules/localization/tests/unit_tests CreateDir");
end
tab_ref = [
"世界您好",
"азеазея",
"ハロー・ワールド",
"حريات وحقوق",
"תוכנית"];
for i = 1 : size(tab_ref,'*')
  pathnam = getshortpathname(TMPDIR + filesep() + 'dir_' + tab_ref(i));
  filnam = pathnam + filesep() + 'scilabsymbols.ttf';
  copyfile(SCI+'/thirdparty/fonts/scilabsymbols.ttf',pathnam);
  ierr = execstr('r = xlfont(filnam);','errcatch');
  if ierr <> 0 then bugmes();quit;end
	if ~isdef('r') then bugmes();quit;end
	clear r;
end
