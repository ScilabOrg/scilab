<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
 * Copyright (C) ENPC - Jean-Philippe Chancelier
 * 
 * This file must be used under the terms of the CeCILL.
 * This source file is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at    
 * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
 *
 -->
<refentry version="5.0-subset Scilab" xml:id="plot3d_old_version"
          xml:lang="en" xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns3="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <pubdate>$LastChangedDate$</pubdate>
  </info>

  <refnamediv>
    <refname>plot3d_old_version</refname>

    <refpurpose>Esboço de uma superfície 3d</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <title>Seqüência de Chamamento</title>

    <synopsis>plot3d(x,y,z,[theta,alpha,leg,flag,ebox])
plot3d(x,y,z,&lt;opt_args&gt;)

plot3d(xf,yf,zf,[theta,alpha,leg,flag,ebox])
plot3d(xf,yf,zf,&lt;opt_args&gt;)

plot3d(xf,yf,list(zf,colors),[theta,alpha,leg,flag,ebox])
plot3d(xf,yf,list(zf,colors),&lt;opt_args&gt;)</synopsis>
  </refsynopsisdiv>

  <refsection>
    <title>Parâmetros</title>

    <variablelist>
      <varlistentry>
        <term>x,y</term>

        <listitem>
          <para>vetores linhas de tamanhos n1 e n2 (coordenadas dos eixos x e
          y). Estas coordenadas devem ser monótonas. </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>z</term>

        <listitem>
          <para>matriz de tamanho (n1,n2). <literal>z(i,j)</literal> é o valor
          da superfície no ponto (x(i),y(j)). </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>xf,yf,zf</term>

        <listitem>
          <para>matrizes de tamanho (nf,n). Elas definem as facetas usadas
          para desenhar a superfície. Há <literal>n</literal> facetas. Cada
          faceta <literal>i</literal> é definida por um polígono com
          <literal>nf</literal> points. pontos. As coordenadas dos eixos x, y
          e z dos pontos da i-ésima faceta são dados respectivamente por
          <literal>xf(:,i)</literal>, <literal>yf(:,i)</literal> e
          <literal>zf(:,i)</literal>.</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>colors</term>

        <listitem>
          <para>um vetor de tamanho n fornecendo as cores de cada faceta ou
          uma matriz de tamanho (nf,n) fornecendo a cor de próxima a cada
          borda da faceta (a cor da faceta é interpolada). </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>&lt;opt_args&gt;</term>

        <listitem>
          <para>representa uma seqüência de declarações <literal>key1=value1,
          key2=value2</literal>,... onde <literal>key1</literal>,
          <literal>key2,...</literal> pode ser um dos seguintes: theta, alpha
          , leg, flag, ebox (ver definições abaixo). </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>theta, alpha</term>

        <listitem>
          <para>valores reais de dados em graus, as coordenadas esféricas do
          ponto de observação. </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>leg</term>

        <listitem>
          <para>string definindo os rótulos para cada eixo com @ como um
          separador de campos, por exemplo "X@Y@Z". </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>flag</term>

        <listitem>
          <para>um vetor real de tamanho três.
          <literal>flag=[mode,type,box]</literal>.</para>

          <variablelist>
            <varlistentry>
              <term>mode</term>

              <listitem>
                <para>string (tratamento das partes escondidas).</para>

                <variablelist>
                  <varlistentry>
                    <term>mode&gt;0</term>

                    <listitem>
                      <para>as partes escondidas são removidas e a superfície
                      é pintada com a cor <literal>mode</literal>.</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>mode=0</term>

                    <listitem>
                      <para>as partes escondidas das superfícies são
                      desenhadas. </para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>mode&lt;0</term>

                    <listitem>
                      <para>apenas as facetas que se orientam para dentro são
                      pintadas com identificador de cor ou padrão
                      <literal>-mode</literal>. Use <literal>xset()</literal>
                      para ver o sentido dos identificadores.</para>
                    </listitem>
                  </varlistentry>
                </variablelist>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>type</term>

              <listitem>
                <para>um inteiro (tipo de escala).</para>

                <variablelist>
                  <varlistentry>
                    <term>type=0</term>

                    <listitem>
                      <para> o esboço é feito utilizando-se a escala 3d
                      corrente (definida por uma chamada anterior a
                      <literal>param3d</literal>, <literal>plot3d</literal>,
                      <literal>contour</literal> ou
                      <literal>plot3d1</literal>).</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=1</term>

                    <listitem>
                      <para> re-escala automaticamente caixas 3d com relação
                      de aspecto extrema, as fronteiras são especificadas pelo
                      valor do argumento opcional
                      <literal>ebox</literal>.</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=2</term>

                    <listitem>
                      <para>re-escala automaticamente caixas 3d com relação de
                      aspecto extrema, as fronteiras são computadas
                      utilizando-se dados fornecidos. </para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=3</term>

                    <listitem>
                      <para>fronteiras 3d isométricas com fronteiras da caixa
                      dadas por <literal>ebox</literal>, de modo semelhante a
                      <literal>type=1</literal></para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=4</term>

                    <listitem>
                      <para> fronteiras 3d isométricas derivadas dos dados, de
                      modo semelhante a <literal>type=2</literal></para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=5</term>

                    <listitem>
                      <para>fronteiras 3d isométricas expandidas com
                      fronteiras fornecidas por <literal>ebox</literal>, de
                      modo semelhante a <literal>type=1</literal></para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>type=6</term>

                    <listitem>
                      <para> fronteiras 3d isométricas expandidas derivadas
                      dos dados, de modo semelhante a
                      <literal>type=2</literal></para>
                    </listitem>
                  </varlistentry>
                </variablelist>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>box</term>

              <listitem>
                <para>um inteiro (moldura ao redor do esboço).</para>

                <variablelist>
                  <varlistentry>
                    <term>box=0</term>

                    <listitem>
                      <para>nada é desenhado ao redor do esboço.</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>box=1</term>

                    <listitem>
                      <para>não implementado (é como box=0). .</para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>box=2</term>

                    <listitem>
                      <para>apenas os eixos atrás da superfície são
                      desenhados. </para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>box=3</term>

                    <listitem>
                      <para>uma caixa cercando a superfície é desenhada e
                      legendas são adicionadas. </para>
                    </listitem>
                  </varlistentry>

                  <varlistentry>
                    <term>box=4</term>

                    <listitem>
                      <para>uma caixa cercando a superfície é desenhada e
                      legendas e eixos são adicionados.</para>
                    </listitem>
                  </varlistentry>
                </variablelist>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>ebox</term>

        <listitem>
          <para>utilizado quando <literal>type</literal> em
          <literal>flag</literal> é 1. Especifica as fronteiras do esboço
          através do vetor
          <literal>[xmin,xmax,ymin,ymax,zmin,zmax]</literal>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>

  <refsection>
    <title>Descrição</title>

    <para><literal>plot3d(x,y,z,[theta,alpha,leg,flag,ebox])</literal> desenha
    a superfície parametrizada <literal>z=f(x,y)</literal>.</para>

    <para><literal>plot3d(xf,yf,zf,[theta,alpha,leg ,flag,ebox])</literal>
    desenha uma superfície definida por um conjunto de facetas. Você pode
    desenhar esboços múltiplos substituindo <literal>xf</literal>,
    <literal>yf</literal> e <literal>zf</literal> por múltiplas matrizes
    montadas por linhas como<literal>[xf1 xf2 ...]</literal>, <literal>[yf1
    yf2 ...]</literal> e <literal>[zf1 zf2 ...]</literal>.</para>

    <para>Você pode fornecer uma cor específica para cada faceta utilizando
    <literal>list(zf,colors)</literal> ao invés de <literal>zf</literal>, onde
    <literal>colors</literal> é um vetor de tamano <literal>n</literal>. Se
    <literal>colors(i)</literal> for positivo, fornece a cor da faceta
    <literal>i</literal> e borda da faceta é desenhada com o estilos correntes
    de cor e linha. Se <literal>colors(i)</literal> é negativo, a cor com
    identificador <literal>-colors(i)</literal> é utilizada e a cor da faceta
    não é desenhada. Use <literal>xset()</literal> para ver os identificadores
    destas cores.</para>

    <para>Também é possível obter cores interpoladas para as facetas. Para
    isto, o argumento colors deve ser uma matriz nfxn fornecendo a cor próxima
    a cada borda de cada faceta. Neste caso, valores positivos para cores
    significam que as bordas não serão desenhadas.</para>

    <para>Os argumentos opcionais <literal>theta,alpha,leg
    ,flag,ebox</literal>, podem ser passados por uma seqüência de argumentos
    <literal>key1=value1, key2=value2</literal>, ... Neste caso, a ordem não
    tem significado especial.</para>

    <para>Você pode utilizar a função <literal>genfac3d</literal> para
    computar facetas de quatro lados da superfície
    <literal>z=f(x,y)</literal>. <literal>eval3dp</literal> também pode ser
    utilizado.</para>

    <para>Entre com o comando <literal>plot3d()</literal> para visualizar uma
    demonstração.</para>
  </refsection>

  <refsection>
    <title>Exemplos</title>

    <programlisting role="example">

// esboço simples utilizando z=f(x,y)
t=[0:0.3:2*%pi]'; z=sin(t)*cos(t');
plot3d(t,t,z)
// mesmo esboço utilizando facetas computadas por genfac3d
[xx,yy,zz]=genfac3d(t,t,z);
xbasc()
plot3d(xx,yy,zz)
// esboços múltiplos
xbasc()
plot3d([xx xx],[yy yy],[zz 4+zz])
// esboços múltiplos utilizando cores
xbasc()
plot3d([xx xx],[yy yy],list([zz zz+4],[4*ones(1,400) 5*ones(1,400)]))
// esboço simples com ponto de vista e legendas
xbasc()
plot3d(1:10,1:20,10*rand(10,20),35,45,"X@Y@Z",[2,2,3])
// esboço de uma esfera utilizando facetas computadas por eval3dp
deff("[x,y,z]=sph(alp,tet)",["x=r*cos(alp).*cos(tet)+orig(1)*ones(tet)";..
  "y=r*cos(alp).*sin(tet)+orig(2)*ones(tet)";..
  "z=r*sin(alp)+orig(3)*ones(tet)"]);
r=1; orig=[0 0 0];
[xx,yy,zz]=eval3dp(sph,linspace(-%pi/2,%pi/2,40),linspace(0,%pi*2,20));
xbasc();plot3d(xx,yy,zz)

xbasc();xset('colormap',hotcolormap(128));
r=0.3;orig=[1.5 0 0];
[xx1,yy1,zz1]=eval3dp(sph,linspace(-%pi/2,%pi/2,40),linspace(0,%pi*2,20));
cc=(xx+zz+2)*32;cc1=(xx1-orig(1)+zz1/r+2)*32;   
xbasc();plot3d1([xx xx1],[yy yy1],list([zz,zz1],[cc cc1]),70,80)

xbasc();plot3d1([xx xx1],[yy yy1],list([zz,zz1],[cc cc1]),theta=70,alpha=80,flag=[5,6,3])
 
  </programlisting>
  </refsection>

  <refsection>
    <title>Ver Também</title>

    <simplelist type="inline">
      <member><link linkend="eval3dp">eval3dp</link></member>

      <member><link linkend="genfac3d">genfac3d</link></member>

      <member><link linkend="geom3d">geom3d</link></member>

      <member><link linkend="param3d">param3d</link></member>

      <member><link linkend="plot3d1">plot3d1</link></member>

      <member><link linkend="xset">xset</link></member>
    </simplelist>
  </refsection>

  <refsection>
    <title>Autor</title>

    <para>J.Ph.C.</para>
  </refsection>
</refentry>
