// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2013 - Scilab Enterprises - Paul Bignier
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
// <-- ENGLISH IMPOSED -->
// <-- XCOS TEST -->
// Import diagram
assert_checktrue(importXcosDiagram("SCI/modules/xcos/tests/unit_tests/DoPri_test.zcos"));
loadScicos();
loadXcosLibs();
prot = funcprot();
funcprot(0);
function message(msg)
 disp(msg);
endfunction
funcprot(prot);
// Modify solver + run DDaskr + save results
scs_m.props.tol(6) = 102;       // Solver
scs_m.props.tol(1) = 1.0e-10;   // abstol
scs_m.props.tol(2) = 1.0e-10;   // reltol
ier = execstr('xcos_simulate(scs_m, 4);', 'errcatch'); // Run simulation (LSodar will actually take over DDaskr)
 
    0.  
 
 pass 2   
 
    15.  
 
    15.  
 
    15.  
 
    102.  
 
 before   
 
!Diagram has been compiled for explicit solver  !
!                                               !
!switching to explicit Solver                   !
assert_checkequal(ier, 0);
