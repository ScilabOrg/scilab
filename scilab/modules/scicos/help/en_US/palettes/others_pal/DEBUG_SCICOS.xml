<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 * Scicos
 * 
 * Copyright (C) INRIA - METALAU Project <scicos@inria.fr> (HTML version)
 * Copyright (C) DIGITEO - Scilab Consortium (XML Docbook version)
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 *  (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 * 
 * See the file ./license.txt
 -->
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:id="DEBUG_SCICOS">
  <refnamediv>
    <refname>DEBUG_SCICOS</refname>
    <refpurpose>Debug block</refpurpose>
  </refnamediv>
  <refsection>
    <title>Block Screenshot</title>
    <para>
      <inlinemediaobject>
        <imageobject>
          <imagedata fileref="../../../images/DEBUG_SCICOS_blk.gif" align="center" valign="middle"/>
        </imageobject>
      </inlinemediaobject>
    </para>
  </refsection>
  <refsection id="Contents_DEBUG_SCICOS">
    <title>Contents</title>
    <itemizedlist>
      <listitem>
        <para>
          <link linkend="DEBUG_SCICOS">Debug block</link>
        </para>
      </listitem>
      <listitem>
        <itemizedlist>
          <listitem>
            <para>
              <xref linkend="Palette_DEBUG_SCICOS">Palette</xref>
            </para>
          </listitem>
          <listitem>
            <para>
              <xref linkend="Description_DEBUG_SCICOS">Description</xref>
            </para>
          </listitem>
          <listitem>
            <para>
              <xref linkend="Defaultproperties_DEBUG_SCICOS">Default properties</xref>
            </para>
          </listitem>
          <listitem>
            <para>
              <xref linkend="Interfacingfunction_DEBUG_SCICOS">Interfacing function</xref>
            </para>
          </listitem>
          <listitem>
            <para>
              <xref linkend="Authors_DEBUG_SCICOS">Authors</xref>
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>
  </refsection>
  <refsection id="Palette_DEBUG_SCICOS">
    <title>Palette</title>
    <itemizedlist>
      <listitem>
        <para>
          <link linkend="Others_pal">Others - Others palette</link>
        </para>
      </listitem>
    </itemizedlist>
  </refsection>
  <refsection id="Description_DEBUG_SCICOS">
    <title>Description</title>
    <para>Description</para>
    <para>
</para>
    <para>
The DEBUG block is a powerful debugging tool in Scicos. When placed in a Scicos diagram,
during simulation, it impersonates every block, once before its activation, once after.
By opening the DEBUG block, user can write the scilab script that will be executed when
it is activated. The DEBUG block is very similar to a standard type 5 Scilab block. It is
called with two arguments (block and flag), it has access to functions such as
curblock(), scicos_time(), etc., and its output is block.
</para>
    <para>
For every block, during simulation, the DEBUG block is called first (as if it were the
block itself). Then the simulation routine of the block is called, and finally the DEBUG
is called a second time the same way. This way, the DEBUG block can be used to monitor
the block values before and after executation. The DEBUG block can also modify these
values, thus making it a powerful debugging tool.
</para>
    <para>
For example if a simple pause is placed in the DEBUG block, then the simulation runs in
single step mode. But the pause statement can also be made conditional. For example:
</para>
    <para>

</para>
    <para>
The test can also be made dependent on the values of the block, for example:
if block.outptr(1)(1)&gt;9 then disp(scicos_time()),end
</para>
    <para>
This block can also be used to create log files by printing information about the block
values during simulation.
</para>
    <para>
Note that for the DEBUG block to function, the debugging level must be set to 2 or
higher. The debugging level is changed automatically when the DEBUG block is placed
inside the diagram. It is possible to disable a DEBUG block by changing back the
debugging level to 0, without having to remove it from the diagram. This can be done by
using the menu Debug Level, or at the Scilab prompt (often under pause), using the
scicos_debug() function.

</para>
  </refsection>
  <refsection id="Defaultproperties_DEBUG_SCICOS">
    <title>Default properties</title>
    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">always active:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">direct-feedthrough:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">zero-crossing:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">mode:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">number/sizes of activation inputs:</emphasis> 0</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">number/sizes of activation outputs:</emphasis> 0</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">continuous-time state:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">discrete-time state:</emphasis> no</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">object discrete-time state:</emphasis> no</para>
      </listitem>
      <listitem>
        <para>
          <emphasis role="bold">name of computational function:</emphasis>
          <emphasis role="italic">%debug_scicos</emphasis>
        </para>
      </listitem>
    </itemizedlist>
  </refsection>
  <refsection id="Interfacingfunction_DEBUG_SCICOS">
    <title>Interfacing function</title>
    <itemizedlist>
      <listitem>
        <para> SCI/modules/scicos_blocks/macros/Misc/DEBUG_SCICOS.sci</para>
      </listitem>
    </itemizedlist>
  </refsection>
  <refsection id="Authors_DEBUG_SCICOS">
    <title>Authors</title>
    <para><emphasis role="bold">Ramine Nikoukhah</emphasis> - INRIA</para>
  </refsection>
</refentry>
