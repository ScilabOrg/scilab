// =============================================================================
// Copyright (C) 2010 - 2012 - INRIA - Allan CORNET
// =============================================================================
// <-- JVM NOT MANDATORY -->
// =============================================================================
// <-- Non-regression test for bug 299 -->
//
// <-- URL -->
//  http://forge.scilab.org/index.php/p/csv-readwrite/issues/299/
//
// <-- Short Description -->
// extends format to digit in csv_default and csv_write
// =============================================================================
assert_checkequal(csv_default("precision"), "%.17lg");
assert_checkequal(csv_default("precision","%.17lg") , %T);
assert_checkequal(csv_default("precision",4), %T);
assert_checkequal(csv_default("precision"), "%.4lg");
M = rand(2,3);
filename = fullfile(TMPDIR, "data.csv");
csv_write(M, filename,[],[],"%.8e");
csv_write(M, filename,[],[],8);
assert_checkequal(execstr("csv_write(M, filename,[],[],19)", "errcatch"), 999);
// =============================================================================
