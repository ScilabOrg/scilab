<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Scicos
 * 
 * Copyright (C) INRIA - METALAU Project <scicos@inria.fr> (HTML version)
 * Copyright (C) DIGITEO - Scilab Consortium (XML Docbook version)
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 *  (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 * 
 * See the file ./license.txt
 -->
<refentry version="5.0-subset Scilab" xml:id="CLSS"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns5="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook">
  <refnamediv>
    <refname>CLSS</refname>

    <refpurpose>Continuous state-space system</refpurpose>
  </refnamediv>

  <refsection>
    <title>Block Screenshot</title>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center"
                     fileref="../../SCI_5.3/5.3/scilab/modules/xcos/images/palettes/CLSS.png"
                     valign="middle" />
        </imageobject>
      </inlinemediaobject></para>
  </refsection>

  <refsection id="Contents_CLSS">
    <title>Contents</title>

    <itemizedlist>
      <listitem>
        <para><link linkend="CLSS">Continuous state-space system</link></para>
      </listitem>

      <listitem>
        <itemizedlist>
          <listitem>
            <para><xref linkend="Palette_CLSS">Palette</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Description_CLSS">Description</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Dialogbox_CLSS">Dialog box</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Defaultproperties_CLSS">Default
            properties</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Interfacingfunction_CLSS">Interfacing
            function</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Computationalfunction_CLSS">Computational
            function</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Example_CLSS">CLSS Example</xref></para>
          </listitem>

          <listitem>
            <para><xref linkend="Authors_CLSS">Authors</xref></para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Palette_CLSS">
    <title>Palette</title>

    <itemizedlist>
      <listitem>
        <para><link linkend="Continuous_pal">Continuous time systems
        palette</link></para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Description_CLSS">
    <title>Description</title>

    <para>This block realizes a continuous-time linear state-space
    system.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>where <emphasis role="bold">x</emphasis> is the vector of state variables,
    <emphasis role="bold">u</emphasis> is the vector of input functions and
    <emphasis role="bold">y</emphasis> is the vector of output variables.</para>

    <para>The system is defined by the <inlinemediaobject>
        <imageobject>
          <imagedata align="center"
                     fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img3_eng.gif"
                     valign="middle" />
        </imageobject>
      </inlinemediaobject> matrices and the initial state <inlinemediaobject>
        <imageobject>
          <imagedata align="center"
                     fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img4_eng.gif"
                     valign="middle" />
        </imageobject>
      </inlinemediaobject>. The dimensions must be compatible.</para>
  </refsection>

  <refsection id="Dialogbox_CLSS">
    <title>Dialog box</title>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center"
                     fileref="../../SCI_5.3/5.3/scilab/modules/xcos/images/gui/CLSS_gui.gif"
                     valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold"><inlinemediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img6_eng.gif"
                         valign="middle" />
            </imageobject>
          </inlinemediaobject> matrix</emphasis></para>

        <para>A square matrix.</para>

        <para>Properties : Type 'mat' of size [-1,-1].</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">B matrix</emphasis></para>

        <para>The<inlinemediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img7_eng.gif"
                         valign="middle" />
            </imageobject>
          </inlinemediaobject> matrix, [] if system has no input.</para>

        <para>Properties : Type 'mat' of size ["size(%1,2)","-1"].</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">C matrix</emphasis></para>

        <para>The<inlinemediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img8_eng.gif"
                         valign="middle" />
            </imageobject>
          </inlinemediaobject> matrix , [] if system has no output.</para>

        <para>Properties : Type 'mat' of size ["-1","size(%1,2)"].</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">D matrix</emphasis></para>

        <para>The<inlinemediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="../../SCI_5.3/5.3/scilab/modules/xcos/help/images/CLSS_img9_eng.gif"
                         valign="middle" />
            </imageobject>
          </inlinemediaobject> matrix, [] if system has no D term.</para>

        <para>Properties : Type 'mat' of size [-1,-1].</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">Initial state</emphasis></para>

        <para>A vector/scalar initial state of the system.</para>

        <para>Properties : Type 'vec' of size "size(%1,2)".</para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Defaultproperties_CLSS">
    <title>Default properties</title>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">always active:</emphasis> yes</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">direct-feedthrough:</emphasis> no</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">zero-crossing:</emphasis> no</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">mode:</emphasis> no</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">regular inputs:</emphasis></para>

        <para><emphasis role="bold">- port 1 : size [1,1] / type
        1</emphasis></para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">regular outputs:</emphasis></para>

        <para><emphasis role="bold">- port 1 : size [1,1] / type
        1</emphasis></para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">number/sizes of activation
        inputs:</emphasis> 0</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">number/sizes of activation
        outputs:</emphasis> 0</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">continuous-time state:</emphasis>
        yes</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">discrete-time state:</emphasis> no</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">object discrete-time state:</emphasis>
        no</para>
      </listitem>

      <listitem>
        <para><emphasis role="bold">name of computational function:</emphasis>
        <emphasis role="italic">csslti4</emphasis></para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Example_CLSS">
    <title>CLSS Example</title>

    <para>This sample example illustrates how to use CLSS block to simulate
    and display the output waveform <emphasis role="bold">y(t)=Vc(t)</emphasis> of the RLC circuit shown
    below.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="clss_d1.png" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>The equations for an RLC circuit are the following. They result from
    Kirchhoff's voltage law and Newton's law.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq2.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>The R, L and C are the system's resistance, inductance and
    capacitor.</para>

    <para>We define the capacitor voltage <literal>Vc</literal> and the
    inductance current <literal>iL</literal> as the state variables
    <literal>X1</literal> and <literal>X2.</literal></para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq3.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>thus</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq4.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>Rearranging these equations we get:</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq5.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>These equations can be put into matrix form as follows,</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq6.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>The required output equation is</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="CLSS_eq1.gif" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>

    <para>The following diagram shows these equations modeled in Xcos where
    R=10Ω, L=5 mΗ and C=0.1µF; the initial states are x1=0 and x2=0.5.</para>

    <para>To obtain the output Vc(t) we use CLSS block from Continuous time
    systems Palette.</para>

    <para><inlinemediaobject>
        <imageobject>
          <imagedata align="center" fileref="clss_d.png" valign="middle" />
        </imageobject>
      </inlinemediaobject></para>
  </refsection>

  <refsection id="Interfacingfunction_CLSS">
    <title>Interfacing function</title>

    <itemizedlist>
      <listitem>
        <para>SCI/modules/scicos_blocks/macros/Linear/CLSS.sci</para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Computationalfunction_CLSS">
    <title>Computational function</title>

    <itemizedlist>
      <listitem>
        <para>SCI/modules/scicos_blocks/src/c/csslti4.c (Type 4)</para>
      </listitem>
    </itemizedlist>
  </refsection>

  <refsection id="Authors_INTEGRAL_m">
    <title>Authors</title>

    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Zhour Madini-Zouine</emphasis>
        DIGITEO</para>
      </listitem>
    </itemizedlist>
  </refsection>
</refentry>
