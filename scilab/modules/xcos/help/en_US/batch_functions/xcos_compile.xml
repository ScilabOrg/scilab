<?xml version="1.0" encoding="UTF-8"?>
<!--Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
Copyright (C) - 2013 - INRIA -Serge Steer

This file must be used under the terms of the CeCILL.
This source file is licensed as described in the file COPYING, which
you should have received as part of this distribution.  The terms
are also available at
http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt -->

<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg"  xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" xmlns:scilab="http://www.scilab.org" xml:lang="en" xml:id="xcos_compile">
  <refnamediv>
    <refname>xcos_compile</refname>
    <refpurpose>Compiles an Xcos diagram.</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <title>Calling Sequence</title>
    <synopsis>[cpr,ok] = xcos_compile(scs_m [,fname])</synopsis>
  </refsynopsisdiv>
  <refsection>
    <title>Arguments</title>
    <itemizedlist>
      <listitem>
        <para>
          <emphasis role="bold">scs_m :</emphasis> an Xcos diagram
          data structure with top level input and output ports (See
          <link linkend="scicos_diagram">scicos_diagram</link>).
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis role="bold">fname :</emphasis> A character string
          used to tag error messages. The default value is
          "xcos_compile".
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis role="bold">cpr :</emphasis> a tlist with type "cpr" (see <link
          linkend="scicos_cpr">scicos_cpr</link>.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis role="bold">ok :</emphasis> a boolean. a %f value means that the function failed.
        </para>
      </listitem>
    </itemizedlist>
  </refsection>
  <refsection>
    <title>Description</title>
    <para>
      This function checks and compile an Xcos diagram and generates a
      data structure suitable for simulation, code generation,
      steady state of linear approximation computation. </para>
      <para>In particular this function creates the calling sequencing of the
      of the block's simulation functions for differents simulations steps:</para>
      <itemizedlist>
        <listitem>
          <para>continous state derivative evaluation</para>
        </listitem>
        <listitem>
          <para>discrete part update implied by a activation signals</para>
        </listitem>
       <listitem>
          <para>...</para>
        </listitem>
      </itemizedlist>
      <para>It is called by the "Simulate/Compile" and
      "Simulate/Start" Xcos menu items and also by the steadycos,
      <link linkend="steadycos">steadycos</link>, <link
      linkend="lincos">lincos</link>, <link
      linkend="scicosim">scicosim</link>, ... batch functions..
    </para>
  </refsection>
  
  <refsection>
    <title>Examples</title>
    <programlisting role="example"><![CDATA[
importXcosDiagram("SCI/modules/xcos/demos/IVPD.zcos");
[cpr,ok]=xcos_compile(scs_m)
    ]]></programlisting>
  </refsection>
  <refsection>
    <title>See Also</title>
    <simplelist type="inline">
      <member>
        <link linkend="steadycos">steadycos</link>
      </member>
      <member>
        <link linkend="lincos">lincos</link>
      </member>
      <member>
        <link linkend="scicosim">scicosim</link>
      </member> 
    </simplelist>
  </refsection>
    <refsection>
       <title>History</title>
       <revhistory>
         <revision>
           <revnumber>5.5.0</revnumber>
           <revdescription>Field "ports" added in cpr</revdescription>
           <revdescription>optionnal input argument fname added</revdescription>
         </revision>
       </revhistory>
    </refsection>
  </refentry>
