// =============================================================================
// Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
// Copyright (C) 2016 - Scilab Enterprises - Pierre-Aime AGNEL
//
//  This file is distributed under the same license as the Scilab package.
// =============================================================================
// <-- CLI SHELL MODE -->
//
// <-- Non-regression test for bug 14303 -->
//
// <-- Bugzilla URL -->
// http://bugzilla.scilab.org/14303
//
// <-- Short Description -->
// Display of matrices with scientific notation and lots of digits
// were wrong
A = [1,0,0,0,0,0,0,0;
0,1,0,0,0,0,0,0;
-1,0,2,0,0,0,0,0;
0,-3,0,4,0,0,0,0;
1,0,-8,0,8,0,0,0;
0,5,0,-20,0,16,0,0;
-1,0,18,0,-48,0,32,0;
0,-7,0,56,0,-112,0,64]
 A  = 
   1.   0.   0.    0.    0.    0.     0.    0. 
   0.   1.   0.    0.    0.    0.     0.    0. 
  -1.   0.   2.    0.    0.    0.     0.    0. 
   0.  -3.   0.    4.    0.    0.     0.    0. 
   1.   0.  -8.    0.    8.    0.     0.    0. 
   0.   5.   0.   -20.   0.    16.    0.    0. 
  -1.   0.   18.   0.   -48.   0.     32.   0. 
   0.  -7.   0.    56.   0.   -112.   0.    64.
//display is ok
disp(expm(A));
         column 1 to 6
   2.7182818   0.          0.          0.          0.          0.       
   0.          2.7182818   0.          0.0000001   0.         -0.0000002
  -4.6707743   0.          7.3890561   0.          0.          0.       
   0.         -51.879868   0.          54.59815    0.          0.0000002
   986.51887   0.         -3964.7586   0.          2980.9581   0.       
   0.          5923608.3   0.         -14809151.   0.          8885544.9
  -3.505D+12   0.          2.980D+13   0.         -5.258D+13   0.       
   0.         -1.908D+08   0.          8.924D+08   0.         -1.243D+09
         column 7 to 8
   0.          0.       
   0.          8.396D-08
   0.          0.       
   0.         -7.490D-08
  -0.000061    0.       
   0.          0.000001 
   2.629D+13   0.       
   0.          5.417D+08
// now display is ok
format(25);
disp(expm(A));
         column 1 to 2
   2.7182818284590459789740   0.                      
   0.                         2.7182818015177225845491
  -4.6707742704716039838786   0.                      
   0.                        -51.879868171559834877371
   986.51887138491565565346   0.                      
   0.                         5923608.336195232346654 
  -3505325614554.6108398438   0.                      
   0.                        -190824518.11990356445312
         column 3 to 4
   0.                         0.                      
   0.                         0.0000001317192458835057
   7.3890560989306468542281   0.                      
   0.                         54.59814989296543075170 
  -3964.7586192011626735621   0.                      
   0.                        -14809150.540157752111554
   29795267732595.20703125    0.                      
   0.                         892372855.75740456581116
         column 5 to 6
   0.                         0.                      
   0.                        -0.0000001887344807005064
   0.                         0.                      
   0.                         0.0000001819498482334282
   2980.9580906107216833334   0.                      
   0.                         8885544.922243420034647 
  -52579884242037.671875      0.                      
   0.                        -1243259289.7225642204285
         column 7 to 8
   0.                         0.                      
   0.                         0.0000000839564363063566
   0.                         0.                      
   0.                        -0.000000074896572352002 
  -0.0000609660211250409242   0.                      
   0.                         0.0000009705089855263858
   26289942123999.79296875    0.                      
   0.                         541710954.80334520339966
A =  (rand(8,8) - 0.5) .* 10 .^ (100*rand(8,8));
disp(A);
         column 1 to 2
  -1.152382593853394688D+37   13828508828410826457088.
   6.572339451314636736D+72  -2.377050357234635328D+62
  -7.184434921596705152D+25   7.388845917315683712D+74
  -1.460665822852772224D+49   11644.822571620286908001
   4.020407579238427508D+25   3.928973261927621888D+66
   4.407254235427137344D+51  -44770666213083734016.   
   2.023251346759814772D+53   5.777291352008974848D+37
   185412704886.58285522461  -2.698852520989025280D+82
         column 3 to 4
  -1.646616705377840896D+58  -5.147909587494249088D+51
  -5.551397644948195904D+47  -4.262739462669012256D+98
   8171273493477926633472.    5.104574239366676208D+63
   1.556556714454542464D+83  -2.959913572286739072D+97
  -220873521326.19219970703  -16945.815687946760590421
   1.549141476585236928D+28   6.697633939853373568D+73
  -3.393120025441348288D+85   1.684459501435421568D+38
  -1.635643902950186368D+84  -4.421569138861139328D+59
         column 5 to 6
  -6.384589689143696832D+84  -1.997583295908201600D+55
   353938.03434380819089711  -1158615347918.9926757812
  -5.856778292959950720D+81   1.724869078287576448D+72
   1.758340164843228672D+92  -1.726646475300363136D+26
  -2.144526103437785824D+56  -1.745939787243337600D+54
  -2.372709795161990400D+55   1.326979315171807424D+98
  -9.421033327385178048D+80  -3.138651211374607456D+73
  -41654.899522167565010022   0.4638577071769591775308
         column 7 to 8
   3.460869547272914304D+58   71.648021056924804383925
  -8.646990192170752768D+29   2.169898772883512640D+51
  -3.011545501165211026D+24   6.225533857461559968D+36
   1.249566775012397088D+62  -2.057406060779635840D+23
  -144859034086.54284667969  -4.965610945697822080D+49
  -4.440202060740571008D+60   9.696850027558079744D+41
   4.275780530481831040D+66   3.884596969988515840D+28
   1.423464813929957248D+32  -118506605.46667523682117
format(10);
disp(A);
         column 1 to 6
  -1.152D+37   1.383D+22  -1.647D+58  -5.148D+51  -6.385D+84  -1.998D+55
   6.572D+72  -2.377D+62  -5.551D+47  -4.263D+98   353938.03  -1.159D+12
  -7.184D+25   7.389D+74   8.171D+21   5.105D+63  -5.857D+81   1.725D+72
  -1.461D+49   11644.823   1.557D+83  -2.960D+97   1.758D+92  -1.727D+26
   4.020D+25   3.929D+66  -2.209D+11  -16945.816  -2.145D+56  -1.746D+54
   4.407D+51  -4.477D+19   1.549D+28   6.698D+73  -2.373D+55   1.327D+98
   2.023D+53   5.777D+37  -3.393D+85   1.684D+38  -9.421D+80  -3.139D+73
   1.854D+11  -2.699D+82  -1.636D+84  -4.422D+59  -41654.9     0.4638577
         column 7 to 8
   3.461D+58   71.648021
  -8.647D+29   2.170D+51
  -3.012D+24   6.226D+36
   1.250D+62  -2.057D+23
  -1.449D+11  -4.966D+49
  -4.440D+60   9.697D+41
   4.276D+66   3.885D+28
   1.423D+32  -1.185D+08
