<?xml version="1.0" encoding="UTF-8"?>
<refentry version="5.0-subset Scilab" xml:id="number_properties" xml:lang="en"
          xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:svg="http://www.w3.org/2000/svg"
          xmlns:ns5="http://www.w3.org/1999/xhtml"
          xmlns:mml="http://www.w3.org/1998/Math/MathML"
          xmlns:db="http://docbook.org/ns/docbook">
  <info>
    <pubdate>$LastChangedDate$</pubdate>
  </info>

  <refnamediv>
    <refname>number_properties</refname>

    <refpurpose>determine floating-point parameters</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <title>Calling Sequence</title>

    <synopsis>pr = number_properties(prop)</synopsis>
  </refsynopsisdiv>

  <refsection>
    <title>Arguments</title>

    <variablelist>
      <varlistentry>
        <term>prop</term>

        <listitem>
          <para>string</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>pr</term>

        <listitem>
          <para>real or boolean scalar</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>

  <refsection>
    <title>Description</title>

    <para>This function may be used to get the characteristic
    numbers/properties of the floating point set denoted here by
    <literal>F(b,p,emin,emax)</literal> (usually the 64 bits float numbers set
    prescribe by IEEE 754). Numbers of <literal>F</literal> are of the
    form:</para>

    <programlisting role = ""><![CDATA[ 
sign * m * b^e
 ]]></programlisting>

    <para><literal>e</literal> is the exponent and <literal>m</literal> the
    mantissa:</para>

    <programlisting role = ""><![CDATA[ 
m = d_1 b^(-1) + d_2 b^(-2) + .... + d_p b^(-p)
 ]]></programlisting>

    <para><literal>d_i</literal> the digits are in <literal>[0, b-1]</literal>
    and <literal>e</literal> in <literal>[emin, emax]</literal>, the number is
    said "normalised" if <literal>d_1 ~= 0</literal>. The following may be
    gotten:</para>

    <variablelist>
      <varlistentry>
        <term>prop = "radix"</term>

        <listitem>
          <para>then <literal>pr</literal> is the radix <literal>b</literal>
          of the set <literal>F</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "digits"</term>

        <listitem>
          <para>then <literal>pr</literal> is the number of digits
          <literal>p</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "huge"</term>

        <listitem>
          <para>then <literal>pr</literal> is the max positive float of
          <literal>F</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "tiny"</term>

        <listitem>
          <para>then <literal>pr</literal> is the min positive normalised
          float of <literal>F</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "denorm"</term>

        <listitem>
          <para>then <literal>pr</literal> is a boolean (%t if denormalised
          numbers are used)</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "tiniest"</term>

        <listitem>
          <para>then if denorm = %t, <literal>pr</literal> is the min positive
          denormalised number else <literal>pr</literal> = tiny</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "eps"</term>

        <listitem>
          <para>then <literal>pr</literal> is the epsilon machine ( generally
          (<literal>b^(1-p))/2</literal> ) which is the relative max error
          between a real <literal>x</literal> (such than
          <literal>|x|</literal> in <literal>[tiny, huge]</literal>) and
          <literal>fl(x)</literal>, its floating point approximation in
          <literal>F</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "minexp"</term>

        <listitem>
          <para>then <literal>pr</literal> is <literal>emin</literal></para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>prop = "maxexp"</term>

        <listitem>
          <para>then <literal>pr</literal> is <literal>emax</literal></para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>

  <refsection>
    <title>Remarks</title>

    <para>This function uses the lapack routine dlamch to get the machine
    parameters (the names (radix, digit, huge, etc...) are those recommended
    by the LIA 1 standard and are different from the corresponding lapack's
    ones) ; CAUTION: sometimes you can see the following definition for the
    epsilon machine : <literal>eps = b^(1-p)</literal> but in this function we
    use the traditionnal one (see prop = "eps" before) and so <literal>eps =
    (b^(1-p))/2</literal> if normal rounding occurs and <literal>eps =
    b^(1-p)</literal> if not.</para>
  </refsection>

  <refsection>
    <title>Examples</title>

    <programlisting role="example"><![CDATA[ 
b = number_properties("radix")
eps = number_properties("eps")
 ]]></programlisting>
  </refsection>

  <refsection role="see also">
<title>See Also</title>

    <simplelist type="inline">
      <member><link linkend="nearfloat">nearfloat</link></member>

      <member><link linkend="frexp">frexp</link></member>
    </simplelist>
  </refsection>

  <refsection>
    <title>Authors</title>

    <para>Bruno Pincon</para>
  </refsection>
</refentry>
