<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>PerteDP</TITLE>
<META NAME="description" CONTENT="PerteDP">
<META NAME="keywords" CONTENT="PerteDP">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="PerteDP.css">

</HEAD>

<BODY bgcolor="#FFFFFF">

<P>
<DIV ALIGN="CENTER">
Scicos Block
<BR><A NAME="tex2html1"
  HREF="../../fr/scicos/PerteDP.htm">fr</A> - <A NAME="tex2html2"
  HREF="./PerteDP.htm">eng</A>

</DIV>
<H2><A NAME="SECTION00010000000000000000"></A><A NAME="PerteDP"></A>
<BR>
Thermohydraulic pipe
</H2>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfig{file=PerteDP.eps,width=90.00pt}$
 -->
<IMG
 WIDTH="143" HEIGHT="38" ALIGN="BOTTOM" BORDER="0"
 SRC="../../images/scicos/PerteDP_blk.gif"
 ALT="\epsfig{file=PerteDP.eps,width=90.00pt}">

</DIV>
<BR>

<H3><font color="blue"><A NAME="SECTION00020000000000000000">
Contents</A>
</font></H3>
<!--Table of Contents-->

<UL CLASS="TofC">
<LI><A NAME="tex2html4"
  HREF="PerteDP.htm#SECTION00010000000000000000">Thermohydraulic pipe</A>
<UL>
<LI><A NAME="tex2html5"
  HREF="PerteDP.htm#SECTION00021000000000000000">Palette</A>
<LI><A NAME="tex2html6"
  HREF="PerteDP.htm#SECTION00022000000000000000">Description</A>
<LI><A NAME="tex2html7"
  HREF="PerteDP.htm#SECTION00023000000000000000">Dialog box</A>
<LI><A NAME="tex2html8"
  HREF="PerteDP.htm#SECTION00024000000000000000">Default properties</A>
<LI><A NAME="tex2html9"
  HREF="PerteDP.htm#SECTION00025000000000000000">Interfacing function</A>
<LI><A NAME="tex2html10"
  HREF="PerteDP.htm#SECTION00026000000000000000">Modelica model</A>
</UL></UL>
<!--End of Table of Contents-->
<H3><font color="blue"><A NAME="SECTION00021000000000000000">
Palette</A>
</font></H3>

<UL>
<LI><A NAME="tex2html3"
  HREF="ThermoHydraulics_pal.htm">ThermoHydraulics.cosf - ThermoHydraulics toolbox</A>
</LI>
</UL>
<H3><font color="blue"><A NAME="SECTION00022000000000000000">
Description</A>
</font></H3>

<P>
A <B>PertDP</B> block represents a hydraulic pipe with linear
resistance losses. This component represents a hydraulic resistance
and pressure loss is directly proportional to the flow rate.
Conventionally, the flow direction is the positive when fluid flows
from the black port to the white port.  The pressure loss is obtained
with <P><!-- MATH
 \begin{displaymath}
P_{loss}=P_{black}-P_{white}
\end{displaymath}
 -->
</P>
<DIV ALIGN="CENTER" CLASS="mathdisplay">
<IMG
 WIDTH="172" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="../../images/scicos/PerteDP_img2_eng.gif"
 ALT="$\displaystyle P_{loss}=P_{black}-P_{white}$">
</DIV><P>
</P>.  The key parameters of this
block are the pipes' length, the pipe's diameter, inlet and outlet
altitudes, and some other thermo-hydraulic coefficients.

<H3><font color="blue"><A NAME="SECTION00023000000000000000">
Dialog box</A>
</font></H3>

<DIV ALIGN="CENTER">
<IMG
 WIDTH="477" HEIGHT="165" BORDER="0"
 SRC="../../images/scicos/PerteDP_gui.gif"
 ALT="\begin{figure}\begin{center}
\epsfig{file=PerteDP_gui.eps,width=300pt}
\end{center}\end{figure}">
</DIV>

<P>

<UL>
<LI><b>Longueur du tube : L (m)</b>
<BR>   : Type 'vec' of size -1. Length of pipe
</LI>
<LI><b>Diamètre interne du tube : D (m)</b>
<BR>   : Type 'vec' of size -1. Pipe diameter
</LI>
<LI><b>Coefficient de perte de charge-frottement(S.U) : lambda</b>
<BR>   : Type 'vec' of size -1. Coefficient of thermohydraluc resistance
</LI>
<LI><b>Altitude entrée tuyauterie : z1 (m)</b>
<BR>   : Type 'vec' of size -1. Altitude of the first port (z1)
</LI>
<LI><b>Altitude sortie tuyauterie : z2 (m)</b>
<BR>   : Type 'vec' of size -1. Altitude of the second port (z2)
</LI>
<LI><b>Si <SPAN CLASS="MATH"><IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="../../images/scicos/PerteDP_img4_eng.gif"
 ALT="$ &gt;$"></SPAN>
0, masse volumique imposée fu fluide : p_rho (kg/m3)</b>
<BR>   : Type 'vec' of size -1. Fluid density
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00024000000000000000">
Default properties</A>
</font></H3>

<UL>
<LI><b>always active:</b> no
</LI>
<LI><b>direct-feedthrough:</b> yes
</LI>
<LI><b>zero-crossing:</b> no
</LI>
<LI><b>mode:</b> no
</LI>
<LI><b>number/sizes of inputs:</b> 1 / 1
</LI>
<LI><b>number/sizes of outputs:</b> 1 / 1
</LI>
<LI><b>number/sizes of activation inputs:</b> 0 / 
</LI>
<LI><b>number/sizes of activation outputs:</b> 0 / 
</LI>
<LI><b>continuous-time state:</b> no
</LI>
<LI><b>discrete-time state:</b> no
</LI>
<LI><b>name of modelica function:</b> <EM>PerteDP</EM>
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00025000000000000000">
Interfacing function</A>
</font></H3>
<TT>PerteDP.sci</TT>

<H3><font color="blue"><A NAME="SECTION00026000000000000000">
Modelica model</A>
</font></H3>
 <SMALL CLASS="TINY">  </SMALL>
<BR>
<PRE  CLASS="verbatim">model PerteDP 
  parameter Real L "Longueur du tube";
  parameter Real D "Diametre interne du tube";
  parameter Real lambda "Coefficient de perte de charge-frottement (s.u.)";
  parameter Real z1 "Altitude entree tuyauterie";
  parameter Real z2 "Altitude sortie tuyauterie";
  parameter Real p_rho "Si &gt; 0, masse volumique imposée du fluide";
//  parameter Integer mode "Région IF97. 1:liquide - 2:vapeur - 4:saturation - 0:calcul automatique";
  
  parameter Real g = 9.80665 "Accélération de la pesanteur";
  parameter Real pi = 3.1415927;
  parameter Real eps = 1.e-0 "Limite inf. de la fonction carrée";
  Real khi "Coefficient de perte de charge hydraulique";
  Real deltaPf "Perte de charge par frottement";
  Real deltaP "Perte de charge totale";
  Real Q (start=500) "Débit massique";
  Real rho (start=998) "Masse volumique";
  Real Tm (start=290) "Température moyenne";
  Real Pm (start=1.e5) "Pression moyenne";
  Real Hm (start=100000) "Enthalpie spécifique moyenne";
  Real region (start=1) "Numéro de région IF97";
  Real ThermoCar;

public 
  PortPHQ1 C1 ;
  PortPHQ2 C2 ;

equation

  C1.P - C2.P = deltaP;
  C2.Q = C1.Q;
  C2.H = C1.H;
  
  Q = C1.Q;

  /* Inversions de débit */
  0 = if (Q &gt; 0.0) then (C1.H - C1.Hm) else (C2.H - C2.Hm);
  
  /* Calcul des pertes de charges */
  deltaP = deltaPf + rho*g*(z2 - z1);

  ThermoCar = if (abs(Q) &gt; eps) then Q*abs(Q) else Q*eps;
  deltaPf = 8*khi*ThermoCar/(pi^2*D^4*rho);
  
  
    /* Formule de Darcy-Weisbach (Idel'cik p. 55). On suppose qu'on est en régime quadratique. */
  khi = lambda*L/D;
  
  /* Calcul des propriétés thermodynamiques */
  Pm = (C1.P + C2.P)/2;
  Hm = (C1.H + C2.H)/2;
  

  Tm = Hm/4187 + 273.15;
  region = 1;
  
  rho = 998;

end PerteDP;
</PRE>

<BR>




</BODY>
</HTML>
