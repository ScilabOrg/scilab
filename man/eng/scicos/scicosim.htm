<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>scicosim</TITLE>
<META NAME="description" CONTENT="scicosim">
<META NAME="keywords" CONTENT="scicosim">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="scicosim.css">

</HEAD>

<BODY bgcolor="#FFFFFF">

<P>
<DIV ALIGN="CENTER">
Scilab Function
<BR><A NAME="tex2html1"
  HREF="../../fr/scicos/scicosim.htm">fr</A> - <A NAME="tex2html2"
  HREF="./scicosim.htm">eng</A>

</DIV>
<BR><A NAME="SECTION00010000000000000000"></A><A NAME="scicosim"></A>
<BR>
<b>scicosim</b> - Scicos (batch) simulation function


<H3><font color="blue"><A NAME="SECTION00011000000000000000">
Module</A>
</font></H3>

<UL>
<LI><A NAME="tex2html3"
  HREF="whatis.htm">Scicos</A>
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00012000000000000000">
Description</A>
</font></H3>

<P>
Simulator for Scicos compiled diagram.  
<BR>
Usually scicosim is called by Scicos to perform simulation of a diagram.  
<BR>
But scicosim may also be called outside Scicos. Typical usage in such a case may be :  
<BR>
<P>
<BLOCKQUOTE>
1- Use Scicos to define a block diagram, compile it.  
<BR>
2- Save the compiled diagram using Save,SaveAs Scicos menus.  
<BR>
3- In Scilab, load saved file using load function. You get variables scicos_ver, scs_m, %cpr scs_m is the diagram Scicos main data structure.  
<BR>%cpr is the data structure containing (state,sim,cor,corinv) if the diagram had been compiled before saved, else %cpr=list().  
<BR>
4- Extract state, sim out of cpr.  
<BR>
5- Execute [state,t]=scicosim(state,0,tf,sim,'start',tol) for initialisation.  
<BR>
6- Execute [state,t]=scicosim(state,0,tf,sim,'run',tol) for simulation from 0 to tf.  
<BR>
Many successive such calls may be performed changing initial and final time.  
<BR>
7- Execute [state,t]=scicosim(state,0,tf,sim,'finish',tol) at the very end of the simulation to close files,...  
<BR></BLOCKQUOTE>
<P>
For advanced user it is possible to "manually" change some parameters or state values.  
<BR>
<H3><font color="blue"><A NAME="SECTION00013000000000000000">
Calling Sequence</A>
</font></H3>
<PRE>
[state,t] = scicosim(state,tcur,tf,sim,str,tol)
</PRE>

<H3><font color="blue"><A NAME="SECTION00014000000000000000">
Parameters</A>
</font></H3>

<UL>
<LI><b>state :</b>
   Scilab tlist containing initial state. Usually generated by Scicos Compile. After loading a compiled .cos file, it can be found in %cpr.state.
</LI>
<LI><b>tcur :</b>
   starting time of simulation. At the beginning it must be zero.
</LI>
<LI><b>tf :</b>
   final simulation time.
</LI>
<LI><b>sim :</b>
   Scilab tlist containing compilation results. Usually generated by Scicos Compile. After loading a compiled .cos file, it can be found in %cpr.sim.
</LI>
<LI><b>str :</b>
   'start' , 'run' or 'finish'. Function must be first called with 'start', then with 'run' one or more times, and finally with 'finish'.
</LI>
<LI><b>tol :</b>
   vector [atol,rtol,ttol,deltat,realtimescale,solver,hmax] where atol, rtol are respectively the absolute and relative tolerances for ode or dae solver, ttol is the precision on event dates (must be very small), deltat is maximum integration interval for each call to ode solver (sometimes needed to force restaring the call to solver), realtimescale is the correspondance between simulation time and real time (0 means no slowing down), solver is the choice of solver (0: lsodar, 100: daskr), hmax: max step size used by solver. Default: [0.0001,1.000E-06,1.000E-10,100001,0,0]
</LI>
<LI><b>state :</b>
   state after simulation
</LI>
<LI><b>t :</b>
   final reached time. Usually tf but not always.
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00015000000000000000">
See Also</A>
</font></H3>

<UL>
<LI><A NAME="tex2html4"
  HREF="scicos_simulate.htm">scicos_simulate - Function for running scicos simulation in batch mode. (Scilab Function)</A>
</LI>
<LI><A NAME="tex2html5"
  HREF="scicos.htm">scicos - Block diagram editor and GUI for the hybrid simulator (Scilab Function)</A>
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00016000000000000000">
Authors</A>
</font></H3>

<UL>
<LI><b>Ramine Nikoukhah</b> INRIA
</LI>
<LI><A NAME="tex2html6"
  HREF="mailto:alan.layec@inria.fr?subject=scicosim_doc">Alan Layec</A>
INRIA
</LI>
</UL>

<BR>




</BODY>
</HTML>
