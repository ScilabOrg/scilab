<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>TCLSS_f</TITLE>
<META NAME="description" CONTENT="TCLSS_f">
<META NAME="keywords" CONTENT="TCLSS_f">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="TCLSS_f.css">

</HEAD>

<BODY bgcolor="#FFFFFF">

<P>
<DIV ALIGN="CENTER">
Scicos Block
<BR><A NAME="tex2html1"
  HREF="../../fr/scicos/TCLSS_f.htm">fr</A> - <A NAME="tex2html2"
  HREF="./TCLSS_f.htm">eng</A>

</DIV>
<H2><A NAME="SECTION00010000000000000000"></A><A NAME="TCLSS_f"></A>
<BR>
Continuous linear system with jump
</H2>
<DIV ALIGN="CENTER">
<!-- MATH
 $\epsfig{file=TCLSS_f.eps,width=90.00pt}$
 -->
<IMG
 WIDTH="143" HEIGHT="101" ALIGN="BOTTOM" BORDER="0"
 SRC="../../images/scicos/TCLSS_f_blk.gif"
 ALT="\epsfig{file=TCLSS_f.eps,width=90.00pt}">

</DIV>
<BR>

<H3><font color="blue"><A NAME="SECTION00020000000000000000">
Contents</A>
</font></H3>
<!--Table of Contents-->

<UL CLASS="TofC">
<LI><A NAME="tex2html3"
  HREF="TCLSS_f.htm#SECTION00010000000000000000">Continuous linear system with jump</A>
<UL>
<LI><A NAME="tex2html4"
  HREF="TCLSS_f.htm#SECTION00021000000000000000">Description</A>
<LI><A NAME="tex2html5"
  HREF="TCLSS_f.htm#SECTION00022000000000000000">Dialog box</A>
<LI><A NAME="tex2html6"
  HREF="TCLSS_f.htm#SECTION00023000000000000000">Default properties</A>
<LI><A NAME="tex2html7"
  HREF="TCLSS_f.htm#SECTION00024000000000000000">Interfacing function</A>
<LI><A NAME="tex2html8"
  HREF="TCLSS_f.htm#SECTION00025000000000000000">Computational function (type 1)</A>
<LI><A NAME="tex2html9"
  HREF="TCLSS_f.htm#SECTION00026000000000000000">Authors</A>
</UL></UL>
<!--End of Table of Contents-->
<H3><font color="blue"><A NAME="SECTION00021000000000000000">
Description</A>
</font></H3>

<P>
This block realizes a continuous-time linear state-space system with
the possibility of jumps in the state. The number of inputs to this
block is two. The first input is the regular input of the linear
system, the second carries the new value of the state which is copied
into the state when an event arrives at the unique event input port of
this block. That means the state of the system jumps to the value
present on the second input (of size equal to that of the state). The
system is defined by the <SPAN CLASS="MATH"><IMG
 WIDTH="96" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="../../images/scicos/TCLSS_f_img2_eng.gif"
 ALT="$ (A,B,C,D)$"></SPAN>
 matrices and the initial state
<SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="../../images/scicos/TCLSS_f_img3_eng.gif"
 ALT="$ x_0$"></SPAN>
. The dimensions must be compatible. The sizes of inputs and outputs
are adjusted automatically.   

<H3><font color="blue"><A NAME="SECTION00022000000000000000">
Dialog box</A>
</font></H3>

<DIV ALIGN="CENTER">
<IMG
 WIDTH="477" HEIGHT="256" BORDER="0"
 SRC="../../images/scicos/TCLSS_f_gui.gif"
 ALT="\begin{figure}\begin{center}
\epsfig{file=TCLSS_f_gui.eps,width=300pt}
\end{center}\end{figure}">
</DIV>

<P>

<UL>
<LI>A matrix: square matrix. The<B>A </B>matrix 
</LI>
<LI>B matrix: the<B>B</B> matrix 
</LI>
<LI>C matrix: the <B>C</B> matrix 
</LI>
<LI>D matrix: the<B>D</B> matrix 
</LI>
<LI>Initial state <SPAN CLASS="MATH"><IMG
 WIDTH="22" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="../../images/scicos/TCLSS_f_img3_eng.gif"
 ALT="$ x_0$"></SPAN>
:  vector. The initial state of the system.
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00023000000000000000">
Default properties</A>
</font></H3>

<UL>
<LI><b>always active:</b> yes
</LI>
<LI><b>direct-feedthrough:</b> no
</LI>
<LI><b>zero-crossing:</b> no
</LI>
<LI><b>mode:</b> no
</LI>
<LI><b>number/sizes of inputs:</b> 2 / 1  1
</LI>
<LI><b>number/sizes of outputs:</b> 1 / 1
</LI>
<LI><b>number/sizes of activation inputs:</b> 1 / 1
</LI>
<LI><b>number/sizes of activation outputs:</b> 0 / 
</LI>
<LI><b>continuous-time state:</b> yes
</LI>
<LI><b>discrete-time state:</b> no
</LI>
<LI><b>name of computational function:</b> <EM>tcslti</EM>
</LI>
</UL>

<H3><font color="blue"><A NAME="SECTION00024000000000000000">
Interfacing function</A>
</font></H3>
<TT>TCLSS_f.sci</TT>

<H3><font color="blue"><A NAME="SECTION00025000000000000000">
Computational function (type 1)</A>
</font></H3>
 <SMALL CLASS="TINY">  </SMALL>
<BR>
<PRE  CLASS="verbatim">      subroutine tcslti(flag,nevprt,t,xd,x,nx,z,nz,tvec,ntvec,
     &amp;     rpar,nrpar,ipar,nipar,u1,nu1,u2,nu2,y,ny)
c     Scicos block simulator
c     continuous state space linear system simulator
c     rpar(1:nx*nx)=A
c     rpar(nx*nx+1:nx*nx+nx*nu)=B
c     rpar(nx*nx+nx*nu+1:nx*nx+nx*nu+nx*ny)=C
c     rpar(nx*nx+nx*nu+nx*ny+1:nx*nx+nx*nu+nx*ny+ny*nu)=D
c!
c
      double precision t,xd(*),x(*),z(*),tvec(*),rpar(*)
      double precision u1(*),u2(*),y(*)
      integer flag,nevprt,nx,nz,ntvec,nrpar,ipar(*)
      integer nipar,nu1,nu2,ny

c
      la=1
      lb=nx*nx+la
      lc=lb+nx*nu1

      if(flag.eq.1.or.flag.eq.6) then
c     y=c*x+d*u1     
         ld=lc+nx*ny
         call dmmul(rpar(lc),ny,x,nx,y,ny,ny,nx,1)
         call dmmul1(rpar(ld),ny,u1,nu1,y,ny,ny,nu1,1)
      elseif(flag.eq.2.and.nevprt.eq.1) then
c     x+=u2
         call dcopy(nx,u2,1,x,1)
      elseif(flag.eq.0.and.nevprt.eq.0) then
c     xd=a*x+b*u1
         call dmmul(rpar(la),nx,x,nx,xd,nx,nx,nx,1)
         call dmmul1(rpar(lb),nx,u1,nu1,xd,nx,nx,nu1,1)
      endif
      return
      end
</PRE>

<H3><font color="blue"><A NAME="SECTION00026000000000000000">
Authors</A>
</font></H3>
<b>Ramine Nikoukhah</b> INRIA

<BR>




</BODY>
</HTML>
